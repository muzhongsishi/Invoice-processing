# 部署指南：Cloudflare Pages

本指南将帮助您将发票处理应用部署到 Cloudflare Pages，并绑定您的域名 `030601.xyz`。

## 1. 准备工作

您提到的“2000多个文件”主要是 `node_modules` 文件夹，这里面存放的是开发工具和依赖库。
**注意：永远不要把 `node_modules` 上传到 GitHub 或 Cloudflare。**
我已经更新了您的 `.gitignore` 文件，它会自动告诉 Git 忽略这个文件夹。

确保您已经完成了本地构建（我们刚才已经运行过 `npm run build`），项目根目录下应该有一个 `dist` 文件夹，这里面才是最终要发布给用户的文件（通常只有几个文件）。

## 2. 部署方案选择

Cloudflare Pages 支持两种主要部署方式：

### 方案 A：连接 GitHub (推荐)
如果您会将代码推送到 GitHub，这是最自动化的方式。以后您更新代码，网站会自动更新。

1.  把当前项目代码推送到您的 GitHub 仓库（确保 `.gitignore` 生效，不包含 `node_modules`）。
2.  登录 Cloudflare Dashboard。
3.  进入 **Compute (Workers & Pages)** -> **Pages**。
4.  点击 **Create a project** -> **Connect to Git**。
5.  选择您的 GitHub 仓库。
6.  **Build settings (构建设置)**:
    *   **Framework preset**: 选择 `Vite` 或者 `React` (通常 Cloudflare 会自动检测)。
    *   **Build command**: `npm run build`
    *   **Output directory**: `dist`
7.  点击 **Save and Deploy**。

### 方案 B：直接上传 (最简单，如果不用 Git)
如果您不想折腾 GitHub，可以直接把打包好的文件拖上去。

1.  在本地电脑运行命令 `npm run build` (刚才已运行)。
2.  找到项目目录下的 `dist` 文件夹。
3.  登录 Cloudflare Dashboard。
4.  进入 **Compute (Workers & Pages)** -> **Pages**。
5.  点击 **Create a project** -> **Upload assets** (Direct Upload)。
6.  给项目起个名字（例如 `invoice-app`）。
7.  把您的 `dist` 文件夹直接拖拽到上传区域。
8.  等上传完成，点击 **Deploy site**。

## 3. 绑定自定义域名 (030601.xyz)

部署成功后，Cloudflare 会分配一个类似 `invoice-app.pages.dev` 的临时域名。

1.  在 Cloudflare Pages 的项目页面，点击 **Custom domains** 标签。
2.  点击 **Set up a custom domain**。
3.  输入您的域名 `030601.xyz` (或者子域名 `app.030601.xyz`)。
4.  点击 **Continue**。
5.  Cloudflare 会自动为您修改 DNS 记录（因为您的域名已经在 Cloudflare 托管了）。
6.  点击 **Activate domain**。

等待几分钟到几小时（通常很快），您就可以通过 `https://030601.xyz` 访问您的应用了！

## 常见问题

*   **为什么有2000个文件？**：那是开发环境需要的工具链。打包后（在 `dist` 文件夹里），真正给用户运行的只有 HTML, CSS, JS 几个文件，非常轻量。
*   **需要服务器吗？**：不需要。Cloudflare Pages 就是静态托管，非常适合这个应用。
